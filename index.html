<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EDAÅ Operasyonel MÃ¼kemmellik SimÃ¼latÃ¶rÃ¼</title>
    <style>
        :root { --primary: #003366; --secondary: #f39c12; --success: #27ae60; --error: #e74c3c; --bg: #f4f7f9; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: var(--bg); margin: 0; padding: 20px; color: #333; line-height: 1.6; }
        .container { max-width: 900px; margin: auto; background: white; padding: 30px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        h1 { color: var(--primary); text-align: center; margin-bottom: 5px; }
        .subtitle { text-align: center; color: #666; margin-bottom: 25px; font-weight: bold; }
        .stats { display: flex; justify-content: space-around; background: #2c3e50; color: white; padding: 15px; border-radius: 8px; margin-bottom: 20px; }
        .scenario-card { background: #eef7ff; padding: 25px; border-left: 10px solid var(--primary); margin-bottom: 20px; font-size: 1.2em; box-shadow: inset 0 0 10px rgba(0,0,0,0.05); }
        .section-title { font-weight: bold; margin: 20px 0 10px 0; display: block; color: var(--primary); text-transform: uppercase; font-size: 0.9em; }
        .btn-group { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        button { padding: 15px; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; transition: 0.3s; font-size: 1em; }
        .btn-type { background: var(--primary); color: white; border: 2px solid transparent; }
        .btn-type:hover { background: #002244; transform: translateY(-2px); }
        .data-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; background: #fafafa; padding: 20px; border: 2px dashed #d1d8e0; border-radius: 8px; }
        label { background: white; padding: 10px; border-radius: 5px; border: 1px solid #ddd; cursor: pointer; display: flex; align-items: center; gap: 10px; }
        label:hover { background: #f0f0f0; }
        .feedback { margin-top: 20px; padding: 20px; border-radius: 8px; display: none; border: 2px solid transparent; }
        .success-box { background: #e8f5e9; color: #2e7d32; border-color: #a5d6a7; }
        .error-box { background: #ffebee; color: #c62828; border-color: #ef9a9a; }
        .rules-panel { background: #fff3e0; padding: 15px; border-radius: 8px; margin-top: 20px; font-size: 0.85em; color: #e65100; border-left: 5px solid #ff9800; }
    </style>
</head>
<body>

<div class="container">
    <h1>EDAÅ KayÄ±t SimÃ¼latÃ¶rÃ¼</h1>
    <div class="subtitle">"Veriyle YÃ¶net, SahayÄ± Koru"</div>
    
    <div class="stats">
        <span>BaÅŸarÄ±: %<span id="score">0</span></span>
        <span>DoÄŸru: <span id="correct-count">0</span></span>
        <span>Hata: <span id="error-count">0</span></span>
    </div>

    <div id="game-zone">
        <span class="section-title">ğŸ“ Gelen Ã‡aÄŸrÄ±:</span>
        <div id="scenario-text" class="scenario-card">YÃ¼kleniyor...</div>

        <span class="section-title">1. AdÄ±m: Åikayet TÃ¼rÃ¼nÃ¼ Belirle</span>
        <div class="btn-group">
            <button class="btn-type" onclick="selectType('SÃ¼reÃ§')">SÃœREÃ‡ ÅÄ°KAYETÄ°</button>
            <button class="btn-type" onclick="selectType('Personel')">PERSONEL ÅÄ°KAYETÄ°</button>
        </div>

        <div id="data-step" style="display:none;">
            <span class="section-title">2. AdÄ±m: Zorunlu AlanlarÄ± Doldur (Eksik Veri = Red)</span>
            <div class="data-grid">
                <label><input type="checkbox" class="data-check" value="mail"> Mail / Ä°rtibat No</label>
                <label><input type="checkbox" class="data-check" value="plaka"> Plaka No</label>
                <label><input type="checkbox" class="data-check" value="direk"> Direk / SarÄ± Levha</label>
                <label><input type="checkbox" class="data-check" value="evrak"> Evrak / DilekÃ§e No</label>
                <label><input type="checkbox" class="data-check" value="endeks"> GÃ¼ncel Endeks</label>
                <label><input type="checkbox" class="data-check" value="saat"> Olay Saati/Konum</label>
            </div>
            <br>
            <button onclick="submitRecord()" style="background:var(--success); color:white; width:100%; font-size: 1.2em;">ANALÄ°TÄ°K KAYDI TAMAMLA</button>
        </div>
    </div>

    <div id="feedback" class="feedback"></div>
    
    <div class="rules-panel">
        <strong>ğŸ’¡ AltÄ±n Kural:</strong> Åikayet kiÅŸisel algÄ±lanmaz. MÃ¼ÅŸteriyle haklÄ±/haksÄ±z tartÄ±ÅŸmasÄ±na girilmez. 15 iÅŸ gÃ¼nÃ¼ ve 24/48 saat kurallarÄ± esastÄ±r!
    </div>

    <button id="next-btn" onclick="nextScenario()" style="display:none; margin-top:15px; width:100%; background:#7f8c8d; color:white;">SIRADAKÄ° Ã‡AÄRIYA GEÃ‡ â®•</button>
</div>

<script>
    const scenarios = [
        { cat: "ArÄ±za", text: "3 saattir elektrik yok, mahalleli olarak Ã§ok maÄŸduruz!", type: "SÃ¼reÃ§", required: ["mail", "saat"], note: "ARALIK VERÄ°SÄ°: AÃ§Ä±klama yetersizliÄŸi en Ã§ok arÄ±za kayÄ±tlarÄ±nda gÃ¶rÃ¼lmÃ¼ÅŸtÃ¼r. Konum teyidi ÅŸart!" },
        { cat: "AydÄ±nlatma", text: "ParkÄ±n giriÅŸindeki lamba 2 haftadÄ±r sÃ¶nÃ¼k. KaranlÄ±kta Ã¶nÃ¼mÃ¼zÃ¼ gÃ¶remiyoruz.", type: "SÃ¼reÃ§", required: ["direk", "mail"], note: "ARALIK VERÄ°SÄ°: 515 AydÄ±nlatma hatasÄ±nÄ±n Ã§oÄŸu Direk No eksikliÄŸindendir." },
        { cat: "Personel", text: "SayacÄ± okumaya gelen personeliniz kapÄ±yÄ± Ã§arptÄ± ve Ã§ok kaba davrandÄ±!", type: "Personel", required: ["mail", "saat"], note: "ALTIN KURAL: Bu bir sÃ¼reÃ§ deÄŸil, davranÄ±ÅŸ hatasÄ±dÄ±r. 'Personel Åikayeti' seÃ§ilmelidir." },
        { cat: "Ä°ÅŸletme", text: "1 hafta Ã¶nce dilekÃ§e verdim, hala cevap gelmedi. Neden ilgilenmiyorsunuz?", type: "SÃ¼reÃ§", required: ["evrak", "mail"], note: "MEVZUAT: 15 iÅŸ gÃ¼nÃ¼ dolmadan ve evrak no almadan ÅŸikayet aÃ§mak hatalÄ± kayÄ±ttÄ±r!" },
        { cat: "AraÃ§", text: "34 EDA 186 plakalÄ± aracÄ±nÄ±z okul Ã¶nÃ¼nde Ã§ok hÄ±zlÄ± sÃ¼rÃ¼yordu!", type: "Personel", required: ["plaka", "saat", "mail"], note: "VERÄ° KALÄ°TESÄ°: Plaka olmadan aÃ§Ä±lan araÃ§ ÅŸikayetleri GPS takibi yapÄ±lamadÄ±ÄŸÄ± iÃ§in doÄŸrudan REDDEDÄ°LÄ°R." },
        { cat: "SayaÃ§", text: "Faturam geÃ§en aya gÃ¶re 3 katÄ± gelmiÅŸ, personelin yanlÄ±ÅŸ okuduÄŸunu dÃ¼ÅŸÃ¼nÃ¼yorum.", type: "SÃ¼reÃ§", required: ["endeks", "mail"], note: "TEÅHÄ°S: YÃ¼ksek faturayÄ± 'HatalÄ± Okuma' girmeden Ã¶nce gÃ¼ncel endeksle teyit edin." },
        { cat: "Kesme", text: "Borcumu Ã¶dedim, 2 saat oldu hala aÃ§Ä±lmadÄ±. Hemen aÃ§Ä±n ÅŸu elektriÄŸi!", type: "SÃ¼reÃ§", required: ["mail"], note: "YASAL SÃœRE: Ä°mar alanÄ± 24 saat sÃ¼resi dolmadan aÃ§Ä±lan kayÄ±tlar hatalÄ±dÄ±r. MÃ¼ÅŸteriyi bilgilendir." }
    ];

    let current = 0; let corrects = 0; let errors = 0; let selectedType = "";

    function loadScenario() {
        document.getElementById('scenario-text').innerText = scenarios[current].text;
        document.getElementById('data-step').style.display = 'none';
        document.getElementById('feedback').style.display = 'none';
        document.getElementById('next-btn').style.display = 'none';
        document.querySelectorAll('.data-check').forEach(el => el.checked = false);
    }

    function selectType(type) {
        selectedType = type;
        document.getElementById('data-step').style.display = 'block';
        showFeedback("TÃ¼r TeÅŸhis Edildi: " + type + ". Åimdi verileri seÃ§in.", "success-box", false);
    }

    function submitRecord() {
        const s = scenarios[current];
        const checks = Array.from(document.querySelectorAll('.data-check:checked')).map(el => el.value);
        const feedbackEl = document.getElementById('feedback');
        const isTypeCorrect = (selectedType === s.type);
        const isDataCorrect = s.required.every(r => checks.includes(r));

        if (isTypeCorrect && isDataCorrect) {
            corrects++;
            showFeedback("âœ… BAÅARILI KAYIT!<br>Veri kalitesi tam. KÃ¶k Neden Analizi iÃ§in doÄŸru veriyi ilettiniz.", "success-box", true);
        } else {
            errors++;
            let msg = "âŒ HATALI KAYIT!<br>";
            if(!isTypeCorrect) msg += "â€¢ YanlÄ±ÅŸ TeÅŸhis: Bu bir " + s.type + " ÅŸikayetidir.<br>";
            if(!isDataCorrect) msg += "â€¢ Eksik Veri: " + s.required.map(x => x.toUpperCase()).join(", ") + " bilgisi zorunluydu.<br>";
            msg += "<br><strong>ğŸ’¡ Analiz:</strong> " + s.note;
            showFeedback(msg, "error-box", true);
        }
        updateStats();
        document.getElementById('next-btn').style.display = 'block';
    }

    function updateStats() {
        document.getElementById('correct-count').innerText = corrects;
        document.getElementById('error-count').innerText = errors;
        let total = corrects + errors;
        document.getElementById('score').innerText = Math.round((corrects / total) * 100);
    }

    function showFeedback(msg, cls) {
        const f = document.getElementById('feedback');
        f.innerHTML = msg; f.style.display = 'block'; f.className = 'feedback ' + cls;
    }

    function nextScenario() {
        current = (current + 1) % scenarios.length;
        loadScenario();
    }

    loadScenario();
</script>
</body>
</html>
